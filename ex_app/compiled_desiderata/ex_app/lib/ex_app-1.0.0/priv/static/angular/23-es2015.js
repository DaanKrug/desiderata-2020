(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{n4Ma:function(e,t,i){"use strict";i.r(t);var n=i("ofXK"),c=i("3Pt+"),a=i("1kSV"),o=i("tyNb"),r=i("kYp3"),s=i("fXoL"),l=i("zT7k"),u=i("IVaK"),b=i("ZMR0"),d=i("fFX4"),m=i("n/9U"),g=i("fcMv"),f=i("Ca8N"),p=i("/eUb");function h(e,t){if(1&e){const e=s.Tb();s.Sb(0,"section",7),s.Sb(1,"rich-tab-bar",8),s.ec("setTabEmitter",(function(t){return s.uc(e),s.gc().setTab(t)})),s.Rb(),s.Sb(2,"form",9),s.ec("ngSubmit",(function(t){return s.uc(e),s.gc().onObjectFormSubmit()})),s.Sb(3,"div"),s.Ob(4,"rich-input-text",10),s.Ob(5,"rich-input-text",11),s.Ob(6,"div",12),s.Rb(),s.Sb(7,"div"),s.Ob(8,"rich-editor",13),s.Ob(9,"div",12),s.Rb(),s.Sb(10,"form-action",14),s.ec("cancelDataEmitter",(function(t){return s.uc(e),s.gc().cancelData()})),s.Rb(),s.Rb(),s.Rb()}if(2&e){const e=s.gc();s.zb(1),s.jc("objects",e.tabObjects)("selectedTab",e.tab),s.zb(1),s.jc("formGroup",e.dataForm),s.zb(1),s.Bb(0==e.tab?"":"none"),s.zb(1),s.jc("formGroup",e.dataForm),s.zb(1),s.jc("formGroup",e.dataForm),s.zb(2),s.Bb(1==e.tab?"":"none"),s.zb(1),s.jc("formGroup",e.dataForm),s.zb(2),s.jc("validationMessages",e.validationMessages)("processValidation",e.processValidation)}}function j(e,t){1&e&&(s.Sb(0,"th",26),s.Dc(1," A\xe7\xf5es "),s.Rb())}function O(e,t){1&e&&(s.Sb(0,"th",27),s.Dc(1," A\xe7\xf5es "),s.Rb())}function E(e,t){if(1&e){const e=s.Tb();s.Sb(0,"button",35),s.ec("click",(function(t){s.uc(e);const i=s.gc().$implicit;return s.gc(3).toPageMenuItemFiles(i.id)})),s.Ob(1,"i",36),s.Rb()}}const S=function(){return["admin_master"]},D=function(){return["admin"]};function I(e,t){if(1&e){const e=s.Tb();s.Sb(0,"tr",28),s.Ob(1,"td",29),s.Ob(2,"td",30),s.Sb(3,"td",31),s.Sb(4,"div",32),s.Bc(5,E,2,0,"button",33),s.Sb(6,"edit-delete-action",34),s.ec("showObjectEmitter",(function(t){return s.uc(e),s.gc(3).showObject(t)}))("lockEmitter",(function(t){return s.uc(e),s.gc(3).lock(t)}))("unlockEmitter",(function(t){return s.uc(e),s.gc(3).unlock(t)}))("editObjectEmitter",(function(t){return s.uc(e),s.gc(3).editObject(t)}))("deleteObjectEmitter",(function(t){return s.uc(e),s.gc(3).deleteObject(t)}))("unDeleteObjectEmitter",(function(t){return s.uc(e),s.gc(3).unDeleteObject(t)})),s.Rb(),s.Rb(),s.Rb(),s.Rb()}if(2&e){const e=t.$implicit,i=s.gc(3),n=s.tc(9),c=s.tc(11),a=s.tc(7);s.zb(1),s.jc("innerHtml",e.name,s.vc),s.zb(1),s.jc("innerHtml",e.position,s.vc),s.zb(3),s.jc("ngIf",!i.auditingExclusions),s.zb(1),s.jc("auditingExclusions",i.auditingExclusions)("object",e)("logged",i.logged)("noAction",!(s.mc(10,S).includes(i.logged.category)||s.mc(11,D).includes(i.logged.category)&&i.permissions.includes("pagemenuitem_write")))("objectDeleteConfirmation",n)("objectUnDeleteConfirmation",c)("objectDetail",a)}}function v(e,t){if(1&e){const e=s.Tb();s.Sb(0,"table",17),s.Sb(1,"thead",18),s.Sb(2,"tr"),s.Sb(3,"th",19),s.Dc(4," Identifica\xe7\xe3o "),s.Rb(),s.Sb(5,"th",20),s.Dc(6," Ord. "),s.Rb(),s.Bc(7,j,2,0,"th",21),s.Bc(8,O,2,0,"th",22),s.Rb(),s.Rb(),s.Sb(9,"tbody"),s.Bc(10,I,7,12,"tr",23),s.Sb(11,"tr"),s.Sb(12,"td",24),s.Sb(13,"table-navigator",25),s.ec("previousPageEmitter",(function(t){return s.uc(e),s.gc(2).previousPage()}))("setPageEmitter",(function(t){return s.uc(e),s.gc(2).setPage(t)}))("nextPageEmitter",(function(t){return s.uc(e),s.gc(2).nextPage()})),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb()}if(2&e){const e=s.gc(2);s.zb(7),s.jc("ngIf",!e.auditingExclusions),s.zb(1),s.jc("ngIf",e.auditingExclusions),s.zb(2),s.jc("ngForOf",e.objects)("ngForTrackBy",e.trackById),s.zb(3),s.jc("pages",e.pages)("selectedPage",e.selectedPage)("previousPageDisabled",e.previousPageDisabled)("nextPageDisabled",e.nextPageDisabled)("rowsPerPage",e.rowsPerPage)("totalPages",e.totalPages)("totalRows",e.totalRows)}}function R(e,t){if(1&e&&(s.Sb(0,"section",15),s.Bc(1,v,14,11,"table",16),s.Rb()),2&e){const e=s.gc();s.zb(1),s.jc("ngIf",e.objects)}}function M(e,t){if(1&e&&(s.Sb(0,"tr"),s.Sb(1,"th",37),s.Dc(2," Identifica\xe7\xe3o: "),s.Rb(),s.Sb(3,"td",38),s.Dc(4),s.Rb(),s.Rb(),s.Sb(5,"tr"),s.Sb(6,"th",39),s.Dc(7," Ordem Apresenta\xe7\xe3o: "),s.Rb(),s.Sb(8,"td",38),s.Dc(9),s.Rb(),s.Rb()),2&e){const e=s.gc();s.zb(4),s.Ec(e.selectedObject.name),s.zb(5),s.Ec(e.selectedObject.position)}}function P(e,t){if(1&e){const e=s.Tb();s.Sb(0,"delete-confirmation",40),s.ec("cancelDataEmitter",(function(t){return s.uc(e),s.gc().showObject()})),s.Rb()}if(2&e){const e=s.gc(),t=s.tc(5);s.jc("selectedObject",e.selectedObject)("templateOutlet",t)}}function w(e,t){if(1&e){const e=s.Tb();s.Sb(0,"delete-confirmation",41),s.ec("confirmDeleteObjectEmitter",(function(t){return s.uc(e),s.gc().confirmDeleteObject(t)}))("cancelDataEmitter",(function(t){return s.uc(e),s.gc().cancelData()})),s.Rb()}if(2&e){const e=s.gc(),t=s.tc(5);s.jc("selectedObject",e.selectedObject)("auditingExclusions",e.auditingExclusions)("templateOutlet",t)}}function x(e,t){if(1&e){const e=s.Tb();s.Sb(0,"delete-confirmation",42),s.ec("confirmDeleteObjectEmitter",(function(t){return s.uc(e),s.gc().confirmUnDeleteObject(t)}))("cancelDataEmitter",(function(t){return s.uc(e),s.gc().cancelData()})),s.Rb()}if(2&e){const e=s.gc(),t=s.tc(5);s.jc("selectedObject",e.selectedObject)("auditingExclusions",e.auditingExclusions)("templateOutlet",t)}}const k=function(){return["admin_master","admin","system_auditor"]};let T=(()=>{class e extends r.a{ngOnInit(){this.setInitializationServices(["pagemenuitem"]),this.crudService=this.pageMenuItemService,this.selectedPageMenu=this.storageService.get()[0],this.storageService.localStorageSetItem("_pageMenuId_"+this.getAppId(),""+this.selectedPageMenu.id,!1),this.sucessErrorMessages={200:"Item Menu adicionado com sucesso.",201:"Item Menu alterado com sucesso.",2010:"Item Menu inativado com sucesso.",2011:"Item Menu ativado com sucesso.",204:"Item Menu exclu\xeddo com sucesso.",207:"Item Menu restaurado com sucesso.",208:"Item Menu exclu\xeddo [PERMANENTE] com sucesso."},this.listTitle="Itens Menu",this.addTitle="Adicionar Item Menu",this.editTitle="Editar Item Menu",this.dataForm=new c.f({name:new c.c("",[c.r.required]),content:new c.c("",[c.r.required]),position:new c.c("",[c.r.required])}),this.tabObjects=[{value:"0",label:"Dados Gerais (*)",title:"Dados Gerais"},{value:"1",label:"Conte\xfado (*)",title:"Conte\xfado"}],super.ngOnInit()}afterNgOnInit(){this.parameterName="name"}ngOnDestroy(){this.selectedPageMenu=null,this.tabObjects=null,super.ngOnDestroy()}getAdditionalConditions(){return" xoo pageMenuId = "+this.selectedPageMenu.id+" "+super.getAdditionalConditions()}setObject(e){super.setObject(e),this.dataForm.setValue({name:e.name,content:e.content,position:e.position})}prepareToSaveUpdate(e){return e.pageMenuId=this.selectedPageMenu.id,e.content=this.stringService.unentityLtGt(e.content),e}makeSelectSearchedItemDestaked(e,t){return e.name=this.makeDestak(e.name,t),e}validateFormFields(){return this.errorRequired("name")&&this.addValidationMessage("Identifica\xe7\xe3o \xe9 requerida!"),this.errorRequired("content")&&this.addValidationMessage("Conte\xfado \xe9 requerido!"),this.errorRequired("position")&&this.addValidationMessage("Ordem Apresenta\xe7\xe3o \xe9 requerida!"),!this.inValidationMsgs()}patchValue(e,t){"name"==e&&this.dataForm.patchValue({name:t}),"content"==e&&this.dataForm.patchValue({content:t}),"position"==e&&this.dataForm.patchValue({position:t}),super.patchValue(e,t)}toPageMenus(){this.storageService.localStorageRemoveItem("_pageMenuId_"+this.getAppId()),this.eventEmitterService.get("pagemenus").emit({})}toPageMenuItemFiles(e){this.crudService.loadFromCache(e).then(e=>{this.processObjectAndValidationResult(e,!0)&&this.eventEmitterService.get("pagemenuitemfiles").emit({object:e})})}}return e.\u0275fac=function(t){return C(t||e)},e.\u0275cmp=s.Hb({type:e,selectors:[["pagemenuitem-root"]],features:[s.wb],decls:12,vars:12,consts:[[3,"title","editing","searchForm","backToOrigin","auditingExclusions","enabledAuditList","disabledAddNew","backToOriginEmitter","onSearchFormSubmitEmitter","listDataEmitter","listDataNoCacheEmitter","auditListEmitter","normalListEmitter","addObjectEmitter"],[3,"ngIf","ngIfElse"],["listObjects",""],["selectedObjectTemplate",""],["objectDetail",""],["objectDeleteConfirmation",""],["objectUnDeleteConfirmation",""],["aria-label","cadastro e altera\xe7\xe3o dos itens menus",1,"dataForm"],[3,"objects","selectedTab","setTabEmitter"],[1,"dataForm",3,"formGroup","ngSubmit"],["label","Identifica\xe7\xe3o (*)","titlee","Identifica\xe7\xe3o","maxchars","250","formControlName","name","widthPerc","79","ngDefaultControl","",3,"formGroup"],["label","Ord. Apres.","titlee","Ordem Apresenta\xe7\xe3o","maxchars","3","minValue","1","maxValue","999","forNumber","true","formControlName","position","widthPerc","19","ngDefaultControl","",3,"formGroup"],[1,"clear"],["formControlName","content","ngDefaultControl","",3,"formGroup"],[3,"validationMessages","processValidation","cancelDataEmitter"],["aria-label","lista dos itens menus"],["class","table","mdbTable","",4,"ngIf"],["mdbTable","",1,"table"],[1,"black","white-text"],["scope","col",2,"width","auto"],["scope","col","title","Ordem Apresenta\xe7\xe3o","aria-label","Ordem Apresenta\xe7\xe3o",2,"width","4em"],["scope","col","style","width: 10.7em;",4,"ngIf"],["scope","col","style","width: 5em;",4,"ngIf"],["mdbTableCol","",4,"ngFor","ngForOf","ngForTrackBy"],["colspan","3",1,"navigationBottom"],[3,"pages","selectedPage","previousPageDisabled","nextPageDisabled","rowsPerPage","totalPages","totalRows","previousPageEmitter","setPageEmitter","nextPageEmitter"],["scope","col",2,"width","10.7em"],["scope","col",2,"width","5em"],["mdbTableCol",""],[1,"text",3,"innerHtml"],[1,"number",3,"innerHtml"],[1,"actions"],[1,"buttons"],["class","btn btn-primary clickable","type","button","placement","left","ngbTooltip","Arquivos","aria-label","Arquivos",3,"click",4,"ngIf"],["lockUnLock","true",3,"auditingExclusions","object","logged","noAction","objectDeleteConfirmation","objectUnDeleteConfirmation","objectDetail","showObjectEmitter","lockEmitter","unlockEmitter","editObjectEmitter","deleteObjectEmitter","unDeleteObjectEmitter"],["type","button","placement","left","ngbTooltip","Arquivos","aria-label","Arquivos",1,"btn","btn-primary","clickable",3,"click"],[1,"fas","fa-file-invoice"],["scope","row",1,"text",2,"width","11em"],[1,"text","noBorderRight"],["scope","row",1,"text"],["label","Item Menu","info","true",3,"selectedObject","templateOutlet","cancelDataEmitter"],["label","Item Menu",3,"selectedObject","auditingExclusions","templateOutlet","confirmDeleteObjectEmitter","cancelDataEmitter"],["label","Item Menu","redo","true",3,"selectedObject","auditingExclusions","templateOutlet","confirmDeleteObjectEmitter","cancelDataEmitter"]],template:function(e,t){if(1&e&&(s.Sb(0,"form-toolbar",0),s.ec("backToOriginEmitter",(function(e){return t.toPageMenus()}))("onSearchFormSubmitEmitter",(function(e){return t.onSearchFormSubmit()}))("listDataEmitter",(function(e){return t.listData()}))("listDataNoCacheEmitter",(function(e){return t.listDataNoCache()}))("auditListEmitter",(function(e){return t.auditList()}))("normalListEmitter",(function(e){return t.normalList()}))("addObjectEmitter",(function(e){return t.addObject()})),s.Rb(),s.Bc(1,h,11,14,"ng-template",1),s.Bc(2,R,2,1,"ng-template",null,2,s.Cc),s.Bc(4,M,10,2,"ng-template",null,3,s.Cc),s.Bc(6,P,1,2,"ng-template",null,4,s.Cc),s.Bc(8,w,1,3,"ng-template",null,5,s.Cc),s.Bc(10,x,1,3,"ng-template",null,6,s.Cc)),2&e){const e=s.tc(3);s.jc("title",t.title)("editing",t.editing)("searchForm",t.searchForm)("backToOrigin",!0)("auditingExclusions",t.auditingExclusions)("enabledAuditList",s.mc(9,k).includes(t.logged.category))("disabledAddNew",!(s.mc(10,S).includes(t.logged.category)||s.mc(11,D).includes(t.logged.category)&&t.permissions.includes("pagemenuitem_write"))),s.zb(1),s.jc("ngIf",t.editing)("ngIfElse",e)}},directives:[l.a,n.j,u.a,c.t,c.n,c.g,b.a,c.m,c.e,c.b,d.a,m.a,n.i,g.a,f.a,a.h,p.a],encapsulation:2}),e})();const C=s.Ub(T),F=[{path:"",component:T}];let y=(()=>{class e{}return e.\u0275mod=s.Lb({type:e}),e.\u0275inj=s.Kb({factory:function(t){return new(t||e)},imports:[[o.c.forChild(F)],o.c]}),e})();var A=i("kS8M");i.d(t,"PageMenuItemModule",(function(){return z}));let z=(()=>{class e{}return e.\u0275mod=s.Lb({type:e}),e.\u0275inj=s.Kb({factory:function(t){return new(t||e)},imports:[[n.b,c.h,c.p,a.g,y,A.a]]}),e})()}}]);